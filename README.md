# 设计模式（Java语言描述）
---

## 一、7大设计原则

1. 单一职责
    - 一个类/方法应该只负责一个任务，如果A负责2个职责，职责1和职责2，职责1的需求变更改变A而影响到职责2，应该将A分离为A1，A2。
2. 接口隔离
    - 一个类不应该依赖它不需要的接口。
    - 一个类对另一个类的依赖应该建立在最小依赖的基础上。
3. 依赖倒置
    - 高层模块依赖底层模块不应该在高层模块中直接创建低层模块，而是通过外部传入依赖模块。
    - 高层模块不应该直接依赖低层模块，而是依赖低层模块的抽象。
4. 里氏替换
    - 一个程序中子类对象都替换成父类对象，程序运行的结果不变。
    - 遵循里氏替换原则，子类尽量不要重写父类方法。
    - 违背里氏替换原则的解决方法，父类和子类解除继承关系，抽象出一个更一般的基类，都继承基类，通过组合、依赖来解决问题。
5. 开闭原则
    - 一个软件类/方法/模块，应该对扩展开放（提供方），对修改关闭（使用方）。
    - 抽象构建框架，扩展实现细节。
6. 迪米特法则
    - 一个对象应该对其他对象保持最少的了解。（只使用public方法，不必了解具体实现）
    - 只与直接的朋友对话。直接朋友：成员属性，方法参数，方法返回值。不要和陌生的变量对话。
7. 合成复用原则
    - 耦合尽量使用合成/聚合的方式，不要继承
    
## 二、UML类图
类之间的关系
1. 依赖，dependency，只要类中用到了就可以说是依赖，包括成员属性，方法参数、返回值
2. 泛化， generalization，即继承
3. 实现， realization，即实现接口
4. 关联，association，
5. 聚合，aggregation，整体与部分的关系，但是部分可以分开，比如人和身份证
6. 组合，composition，整体与部分的关系，但是部分不可以分开，比如人和脑袋
    
## 三、单例模式
1. 饿汉静态常量，线程安全
2. 饿汉静态代码块，线程安全
3. 懒汉，线程不安全
4. 懒汉同步代码块，线程安全
5. 双重检查，线程安全（推荐）
6. 静态内部类，线程安全（推荐）
7. 枚举，线程安全（推荐）